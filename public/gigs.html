<template>
  <require from="./custom/adminOnly"></require>

  <!-- <h2 class="ui header">Please Respond</h2> -->
  <div class="ui grid">
    <div class="ui raised very padded text container segment five wide column" repeat.for="thisGig of noResponse" foo="${thisGig._id}" style="min-width:300px;">
      <h2 class="ui header">${thisGig.name}</h2>
      <b>Date:</b> ${thisGig.date}<br/>
      <b>Time:</b> ${thisGig.startTime}-${thisGig.endTime}<br/><br/>
      <i>${thisGig.notes}</i>
      <i if.bind="!thisGig.notes">
        Description not provided
      </i>
      <br/><br/>
      <div>
        Please Respond:<br/>
        <button click.delegate="$parent.rsvp(thisGig._id, true)"><b>I can go!</b></button>
        <button click.delegate="$parent.rsvp(thisGig._id, false)"><b>I am unavailable</b></button>
      </div>
      <div admin-only>
        <br/>
        <a route-href="route: gigDetail; params.bind: {gigID: thisGig._id}">Edit</a>
      </div>
    </div>
  </div>

  <h2 class="ui header">Already Responded</h2>
  <div repeat.for="thisGig of going">
    ${thisGig.name}
    <a click.delegate="$parent.removeRsvp(thisGig._id)">Undo RSVP</a>
  </div>
  <div repeat.for="thisGig of notGoing">
    ${thisGig.name}
    <a click.delegate="$parent.removeRsvp(thisGig._id)">Undo RSVP</a>
  </div>

  <div admin-only class="control-group">
    <button click.delegate="newGig()">New Gig</button>
  </div>
</template>
